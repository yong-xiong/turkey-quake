<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>    
    
    <meta charset="utf-8">
    <link rel="icon" type="image/x-icon" href="docs/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Turkey earthquake and sftershocks count</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <style>
        .container {
            /* Remove the line below if you want a wider page */
            max-width: 760px !important;
        }
        .table{
          width: 500px !important;
        }
        .table td{
          width: 240px;
          border: 1px solid #ccc !important;
          margin: 20px, 0;
          font-size: 1.2 em;
          border-collapse: collapse;
        }
    </style>
  </head>
  <body>
  <section class="section">
    <div class="container">
      <h1 class="title">
        Turkey earthquake and aftershocks count
      </h1>
      <div class="content">
        <p>first paragraph</p>
        <p>xxxxxx</p>
        <p>xxxxxx</p>
        <p>xxxxxx</p>
        <p>xxxxxx</p>

        
        <div id="map" style="height: 450px;"></div>
        <script>
          var mymap = L.map('map').setView([37.1736, 37.0320], 6);
          var geojsonLayer = L.geoJson().addTo(mymap);
      
          var request = new XMLHttpRequest();
          request.open('GET', 'https://raw.githubusercontent.com/yong-xiong/turkey-quake/main/quake_list_turkey.json', true);

          request.onload = function() {
            if (request.status >= 200 && request.status < 400) {
              // Success!
              var data = JSON.parse(request.responseText);
              // Call a function to extract the coordinates from the data
              extractCoordinates(data);
            } else {
              // We reached our target server, but it returned an error
              console.log("Error loading JSON file");
            }
          };

          request.onerror = function() {
            // There was a connection error of some sort
            console.log("Error loading JSON file");
          };

          request.send();

          function extractCoordinates(data) {
            for (var i = 0; i < data.length; i++) {
              var latitude = data[i].latitude;
              var longitude = data[i].longitude;
              // Do something with the latitude and longitude values
              console.log("Latitude: " + latitude + ", Longitude: " + longitude);
            }
          }

        </script>

        <p>xxxxx</p>
        <div class="content">
          <p>xxxxxx.</p>
          
        <div id="content">
  
        </div>
          <script>
            fetch('./turkey_mag_stats.json')
              .then(res => res.json())
              .then(res => {
                const data = res
                const el = document.getElementById('content')
                el.innerHTML = `
                  <h2>Earthquake and aftershocks statistics</h2>
                  <table class="table">
                    <tr>
                      <td>Magnitude 7.0 and above </td>
                      <td>${data.MagnitudeAbove7[0]}</td>
                    </tr>
                    <tr>
                      <td>Magnitude 6.0 - 6.9</td>
                      <td>${data.Magnitude6_7[0]}</td>
                    </tr>  
                    <tr>
                      <td>Magnitude 5.0 - 5.9</td>
                      <td>${data.Magnitude5_6[0]}</td>
                    </tr>  
                    <tr>
                      <td>Magnitude 4.0 - 4.9</td>
                      <td>${data.Magnitude4_5[0]}</td>
                    </tr>  
                  </table>
                  <p>The data was last updated at: ${data.LastUpdateTime[0]}</p>
                `

              })
          </script>
      </div>
      <p>xxxxxx</p>
      <p>xxxxxx</p>
      <p>xxxxxx</p>



      <p class="subtitle">
        xxxxxxx subtitle xxxxxx
      </p>

      <iframe title="The magnitude 7.8 quake and aftershocks in Turkey" aria-label="Map" id="datawrapper-chart-ai6M2" src="https://datawrapper.dwcdn.net/ai6M2/1/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="370" data-external="1"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();
      </script>

      <div class="content">
        <p>xxxxxx</p>
        <p>xxxxxx</p>
        <p>xxxxxx</p>
        <p>xxxxxx</p>


          <iframe title="Aftershocks after the magnitude 7.8 earthquake in Turkey" aria-label="Scatter Plot" id="datawrapper-chart-132d1" src="https://datawrapper.dwcdn.net/132d1/1/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="579" data-external="1"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();
          </script>

      </div>
    
      <div class="content">
        <p>xxxxxx.</p>
        <p>xxxxxx</p>
        <p>xxxxxx</p>
        <p>xxxxxx</p>

      <div id="content">
      </div>

       <p></p><br>

        <p>Visit GitHub to find out the original data for this report: <a class='links' href="https://github.com/yong-xiong/turkey-quake" target="_blank">github.com/yong-xiong/turkey-quake</a>.</p>
      </div>
      <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
      integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
      crossorigin=""></script>

    </div>
  </section>
  </body>
</html>

