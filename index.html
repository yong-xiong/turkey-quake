<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <style>
        #map {
            height: 450px;
            width: 700px;
        }
    </style>
    <meta charset="utf-8">
    <link rel="icon" type="image/x-icon" href="docs/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Turkey earthquake and sftershocks count</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <style>
        .container {
            /* Remove the line below if you want a wider page */
            max-width: 760px !important;
        }
        .table{
          width: 500px !important;
        }
        .table td{
          width: 240px;
          border: 1px solid #ccc !important;
          margin: 20px, 0;
          font-size: 1.2 em;
          border-collapse: collapse;
        }
    </style>
  </head>
  <body>
  <section class="section">
    <div class="container">
      <h1 class="title">
        Turkey earthquake and aftershocks count
      </h1>
      <div class="content">
        <p>Since the magnitude 7.8 earthquake struck southern and central Turkey early on the morning of February 6th, nearly 50,000 people have been killed in what is now the deadliest earthquake in the country's modern history.</p>
        <p>Only ten minutes after the initial earthquake, a magnitude 6.7 aftershock hit central Turkey and caused panic while people were still figuring out what had happened earlier that morning.</p>
        <p>Less than ten hours later, a subsequent magnitude 7.6 earthquake rocked the area less than 100km away from the city of Gaziantep, where the first shock was felt, causing further damage and casualties. Videos on social media showed buildings collapsing in front of rescuers' eyes.</p>
        <center><img src="img/turkey-earthquake-GettyImages-1246887248.jpg" alt="The earthquake happened at Turkey-Syria border caused mass destruction and left tens of thousands dead." style="width:600px;"><figcaption><i>The earthquake happened at Turkey-Syria border caused mass destruction and left tens of thousands dead. (Image Source: Getty Image)</i>
        </figcaption></center>
        <p></p>
        <p>While it's normal for aftershocks to occur after a major earthquake, the frequency and intensity of subsequent quakes and aftershocks in the Turkey-Syria earthquake are rare.</p>
        <p>To keep a regularly updated list of aftershock counts in this earthquake for the newsroom, this project utilizes data from the <a href="https://earthquake.usgs.gov/earthquakes/map/?extent=30.88337,-690.84229&extent=43.2452,-674.09912&range=week&settings=true" target="_blank">United States Geological Survey (USGS)</a> website and automatically calculates the aftershock statistics.</p>
        <!-- <p>Here is the current auto-updated earthquake and aftershock counts:</p> -->

        <div id="content">
  
        </div>
          <script>
            fetch('./turkey_mag_stats.json')
              .then(res => res.json())
              .then(res => {
                const data = res
                const el = document.getElementById('content')
                el.innerHTML = `
                  <h3>Here is the current auto-updated earthquake and aftershock counts:</h3>
                  <table class="table">
                    <tr>
                      <td>Magnitude 7.0 and above </td>
                      <td>${data.MagnitudeAbove7[0]}</td>
                    </tr>
                    <tr>
                      <td>Magnitude 6.0 - 6.9</td>
                      <td>${data.Magnitude6_7[0]}</td>
                    </tr>  
                    <tr>
                      <td>Magnitude 5.0 - 5.9</td>
                      <td>${data.Magnitude5_6[0]}</td>
                    </tr>  
                    <tr>
                      <td>Magnitude 4.0 - 4.9</td>
                      <td>${data.Magnitude4_5[0]}</td>
                    </tr>  
                  </table>
                  <p>The data was last updated at: <FONT COLOR="red">${data.LastUpdateTime[0]}  <FONT COLOR=None>Eastern Time</p>
                `

              })
          </script>
          </div>
              <div class="content">
              <p>The system was designed to fetch data from the USGS website every two hours and automatically display the statistics of the aftershocks, draw the location of the earthquake on a map, and generate a chart to depict the aftershock activity.</p>
              <p>xxxxxx.</p>
              <p>xxxxxx.</p>
              </div>
              <div id="map"></div>

              <script>
                  // Create a new LeafletJS map object and set its initial view
                  var mymap = L.map('map').setView([37.1736, 37.0320], 6);
          
                  // Add a tile layer to the map
                  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                      attribution: 'Map data Â© <a href="https://openstreetmap.org">OpenStreetMap</a> contributors',
                      maxZoom: 18,
                  }).addTo(mymap);
          
                  // Load the GeoJSON data from the URL using AJAX
                  var geojsonLayer = new L.GeoJSON.AJAX("map_turkey.geojson");
          
                  // Add the GeoJSON data to the map
                  geojsonLayer.addTo(mymap);
              </script>

      

          <p>xxxxx</p>
          <div class="content">
            <p>xxxxxx.</p>
    
      </div>
      <p>xxxxxx</p>
      <p>xxxxxx</p>
      <p>xxxxxx</p>



      <p class="subtitle">
        xxxxxxx subtitle xxxxxx
      </p>

      <iframe title="The magnitude 7.8 quake and aftershocks in Turkey" aria-label="Map" id="datawrapper-chart-ai6M2" src="https://datawrapper.dwcdn.net/ai6M2/1/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="370" data-external="1"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();
      </script>

      <div class="content">
        <p>xxxxxx</p>
        <p>xxxxxx</p>
        <p>xxxxxx</p>
        <p>xxxxxx</p>


          <iframe title="Aftershocks after the magnitude 7.8 earthquake in Turkey" aria-label="Scatter Plot" id="datawrapper-chart-132d1" src="https://datawrapper.dwcdn.net/132d1/1/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="579" data-external="1"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();
          </script>

      </div>
    
      <div class="content">
        <p>xxxxxx.</p>
        <p>xxxxxx</p>
        <p>xxxxxx</p>
        <p>xxxxxx</p>

      <div id="content">
      </div>

       <p></p><br>

        <p>Visit GitHub to find out the original data for this report: <a class='links' href="https://github.com/yong-xiong/turkey-quake" target="_blank">github.com/yong-xiong/turkey-quake</a>.</p>
      </div>
      <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
      integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
      crossorigin=""></script>

    </div>
  </section>
  </body>
</html>

